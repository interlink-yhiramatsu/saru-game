saru.Enemy=function(n){var g=10;var o;var m;var e;var b;var l;var t;b=n;t=new saru_assets.HitsujiVisual();l=saru.GameItemStatus(t,25);var j={mc:t,gameItemStatus:l,step:d,getIsActive:k,getIsReady:f,activate:a,hit:p,sleep:s,outTest:q,circleHitTest:i,spawn:h};
function r(){var v=t.x;var u=t.y;if(e==saru.Const.TYPE_DEF){t.x+=g;}else{if(e==saru.Const.TYPE_KAMIKAZE){t.x+=(o-t.x)/15;t.y+=(m-t.y)/15;if(Math.abs(t.x-o)<10&&Math.abs(t.y-m)<10){o=saru.Utils.getRandom(saru.Const.WIDTH);
m=saru.Utils.getRandom(saru.Const.HEIGHT);}t.rotation=c(t.x-v,t.y-u);if(t.rotation>90&&t.rotation<270){t.scaleY=-1;}else{t.scaleY=1;}}else{if(e==saru.Const.TYPE_MISSILE){t.x+=(b.x-t.x)/30;
t.y+=(b.y-t.y)/30;t.rotation=c(t.x-v,t.y-u);}else{if(e==saru.Const.TYPE_SHOURYU){t.x+=5;t.y+=-5;t.rotation=c(t.x-v,t.y-u);}else{if(e==saru.Const.TYPE_FUWAFUWA_X){t.x+=(b.x-t.x)/(saru.Utils.getRandom(20)+20);
t.y+=(m-t.y)/30;t.rotation=c(t.x-v,t.y-u);if(t.rotation>90&&t.rotation<270){t.scaleY=-1;}else{t.scaleY=1;}}else{if(e==saru.Const.TYPE_FUWAFUWA_Y){t.x+=(o-t.x)/30;
t.y+=(b.y-t.y)/(saru.Utils.getRandom(20)+20);t.rotation=c(t.x-v,t.y-u);if(t.rotation>90&&t.rotation<270){t.scaleY=-1;}else{t.scaleY=1;}}else{}}}}}}}function c(v,u){return((Math.atan2(u,v))*180/Math.PI)%360;
}function h(w,u,y,x,v){a(w,u);e=y;o=x;m=v;}function a(v,u,w){l.activate(v,u,w);}function s(){l.sleep();}function k(){return l.getIsActive();}function f(){return l.getIsReady();
}function p(){l.hit();}function d(){if(l.getIsActive()){r();}}function q(u,v){return l.outTest(u,v);}function i(u){return l.circleHitTest(targetStatus);
}return j;};