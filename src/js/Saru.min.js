saru.Saru=function(){var h;var b;var g;var c;var m=0;var j;var i;function l(o){i=document.getElementById(o);saru_images=saru_images||{};ss=ss||{};var n=new createjs.LoadQueue(false);
n.addEventListener("fileload",a);n.addEventListener("complete",d);n.loadFile({src:"src/images/saru_assets_atlas_.json",type:"spritesheet",id:"saru_assets_atlas_"},true);
n.loadManifest(saru_assets.properties.manifest);}function a(n){if(n.item.type=="image"){saru_images[n.item.id]=n.result;}}function d(o){var n=o.target;
ss.saru_assets_atlas_=n.getResult("saru_assets_atlas_");exportRoot=new saru_assets.saruAssets();j=new createjs.Stage(i);createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNC;
createjs.Ticker.setFPS(30);f();}function f(){h=saru.Pre();j.addChild(h.container);h.container.addEventListener(saru.Const.PRE_START_BT_CLICK,e);b=saru.Main();
j.addChild(b.container);b.container.addEventListener(saru.Const.MAIN_END,e);g=saru.Result();j.addChild(g.container);g.container.addEventListener(saru.Const.RESULT_REPLAY,e);
c=new saru_assets.Maku();j.addChild(c);c.addEventListener(saru.Const.MAKU_CHANGE,k);createjs.Ticker.addEventListener("tick",j);h.start();}function e(n){c.gotoAndPlay("lplay");
}function k(n){if(m==0){h.end();b.start();m=1;}else{if(m==1){b.end();g.start();g.showScore(b.getScore());m=2;}else{if(m==2){b.start();g.end();m=1;}}}}return{init:l};
};